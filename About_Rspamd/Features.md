## About Rspamd
- Rspamd là một hệ thống lọc spam nâng cao sử dụng nhiều method khác nhau, regukar expressions, phân tích thống kê và các dịch vụ tùy chỉnh như URL blacklist, để đánh giá message. Nó assigns mỗi message một `spam score` và dựa trên score và setting của người dùng, recommend một hành động để MTA tiếp nhận message như passing, rejecting, hay add header. Rspamd có khả năng xử lý đồng thời hàng trăm message mỗi giây và có nhiều tính năng có sẵn.
### Unique features
- `Web interface`: Rspamd bao gồm đầy đủ chức năng, web interface dựa trên Ajax cho phép người dùng theo dõi và config Rspamd rules, score, dynamic lists, scan và learn messages, và xem scan history. Web interface is self-hosted, không yêu cần configm và tuân theo chuẩn ứng dụng web hiện hành. Không web server hay application server nào cần để run web UI - simply run Rspamd và một web browser.
- `Intergration with MTA`: Rspamd có thể làm việc với các MTA mới. như Postfix, Exim, Sendmail hay Haraka
- `Extensive Lua API`: Rspamd ship với hundreds của Lua functions hữu ích để tạo các quy tắc riêng của bạn để lọc thư rác hiệu quả và có mục đích
- `Dynamic tables`: có thể chỉ định danh sách hàng loạt như dynamic maps để check trong thời gian update data chỉ khi chúng thay đổi. Rspamd support file, HTTP và HTTPS maps
### Content scan features
- Content scan features cho phép Rspamd search các mẫu cụ thể trong message, bao gồm text parts, headers và raw content. Những công nghệ này được thiết kế để lọc các spam message phổ biến và cung cấp một khía cạnh tĩnh cả spam filter. Rspamd support nhiều loại content scanning checks, bao gồm:
  - `Regular expression filtering` cung cấp khả năng xử lý message basic, phần textual của họ, MIME header and SMTP data được MTA nhận dựa trên một set of expression mà bao gồm cả normal regular expresssion và message processing funcions. Rspamd regular expressions là một tool mạnh cho phép filter message dựa trên một vài rule được xác định trước. Rspamd có thể cũng sử dụng SpamAssassin regular expression qua plugin
  - `Fuzzy hashes` được sử dụng bởi để tìm message tương tự. Không như regular hashes, những cấu trúc này được thiết kế để bỏ qua những khác biệt nhỏ giữa mẫu văn bản, cho phép Rspamd nhanh chóng xác định các message phổ biến. Rspamd có bộ nhớ trong chứa các giá trị hash và cho phép người dùng block email spam hàng loạt dựa trên danh tiếng của message được chỉ ra bởi phản hồi của user. Ngoài ra, fuzzy storage cho phép Rspamd kết hợp data từ `honeypots` không chứa statistiacal module
  - `DCC` khá giống với cái trước nhưng nó sử dụng dịch vụ bên ngoài DCC để check nếu message là một message hàng loạt (được gử đên nhiều người nhận cùng lúc)
  - `Chartable` module giúp tìm các message được tạo đặc biệt nhằm mục đích đánh lừa hệ thống spam filter bằng cách chuyển ngôn ngữ của text và replacing letter với chất lượng của chúng. Rspamd sử dụng chuẩn UTF-8 để phát hiện và lọc những kỹ thuật thường được spammer sử dụng
### Policy check features
- Có nhiều nguồn xác định policy cho object khác nhau trong email transfer: cho địa chỉ IP của người gửi, cho URLs trong một message và thậm chí cho một message itself . Ví dụ, một message có thể đăng ký bởi sender sừ dụng DKIM technology. Ví dụ khác có thể là URL filtering: phishing check hoặc URL DNS blacklists - SURBL. Rspamd support kiểm tra policy khác nhau:
  - SPF checks cho phép xác thực một người gửi của message sử dụng chính sách defined trong DNS record của domain của người gửi. Bạn có thể đọc về chính sách SPF [ở đây](https://datatracker.ietf.org/doc/html/rfc7208). Một số hệ thống như Gmail hoặc Yahoo Mail
  - DKIM
  - DMARC chứa DKIM và SPF 
  - ARC là một bổ sung tương đối mới cho chữ ký DKIM cơ chế cho phép chuyển tiếp các message qua một chuỗi các rule đáng tin cậy
  - Whitelists được sử dụng để tránh các lượt truy cập positive giả dành cho các domain đáng tin cậy để pass các checks như DKIM, SPF, DMARC. Ví dụ, chúng ta không nên lọc message từ PayPal nế chúng được ký chính xác bằng chữ ký tên miền Paypal. Mặt khác, nếu chúng không được ký và chính sách DMARC định nghĩa quy tắc hạn chế cho DKIM, chúng ta nên đánh dấu message là spam vì nó có khả năng phishing. Whitelist module cung cấp các mode khác để thực hiện match chính sách và whitelist hoặc blacklist của certain combinations của verification results
  - DNS lists cho phép ước tính danh tính của địa chỉ IP của người gửi hoặc network. Rspamd sử dụng một số của DNS list bao gồm list như SORBS hoặc SpamHaus. Tuy nhiên, Rspamd cuối cùng không tin tưởng bất kỳ danh sách DNS cụ thể nào và không từ chối message dựa trên yếu tố này
  - Phising checks cực kỳ hữu ích để lọc các message luwafddaro và bảo vệ người dùng khỏi các cuộc tấn công mạng. Rspamd sử dụng các thuật toán phức tạp để tìm các URL lừa đảo và hỗ trợ các trình chuyển hướng URL phổ biến để tránh các lượt truy cập giả. Cơ sở dữ liệu lừa đảo phổ biến, chẳng hạn như Openphishvaf phishtank cũng được hỗ trợ
  - Rate limits cho phép ngăn chặn việc gửi mail hàng loạt từ những user bị hack của bạn. Đây là một tính năng cực kỳ hữu ích để bảo vệ cả luồng mail gửi đến và gửi đi
  - Ip reputation plugin cho phép điều chỉnh danh tiếng cho các địa chỉ IP, network, autonomous block (ASN) và thậm chí cả quốc gia
  - Greylisting là một phương pháp phổ biến nhằm tạo ra độ trễ vì những message đáng ngờ, như nhiều người spam không sử dụng máy chủ SMTP đầy đủ chức năng cho phép queue các message bị trì hoãn. Rspamd triển khai greylisting nội bộ và có thể trì hoãn các mail có điểm cao hơn ngưỡng nhất định
  - Reply module nhằm mục đích đưa các message trả lời message vào danh sách trắng vì những message này có thể quan trọng với người dùng và những thông báo sai là điều không mong muốn với họ
  - Maps module cung cấp một Swiss Knife như tool để có thể lọc messgae dựa trên các thuộc tính khác nhau: header, envelope data, IP của người gửi,... Module này rất hữu ích cho việc xây dựng các quy tắc tùy chỉnh
### Statistical tools
- Statistical approach (phương pháp thống kê) bao gồm nhiều kỹ thuật nhận dạng spam hữu ích có thể học hỏi linh hoạt từ các message được quét. Rspamd cung cấp các công cụ khác nhau có thể học theo các thủ công hoặc tự động và áp dụng cho mail flow thực tế
  - Bayes classifier là một tool để phân loại message spam và ham. Rspamd sử dụng một advanced algorithm để tạo statistical tokens có thể đạt được kết quả tốt hơn phương pháp Bayes được sử dụng nhiều nhất
  - Nerual network học hỏi từ scan results và allows để cải thiện final score bằng tìm một vài 
mẫu quy tắc chung điển hình cho message spam hoặc ham. Module này đặc biệt hữu ích cho hệ thống email lớn như nó có thể học từ rule riêng của bạn và nhanh chóng áp dụng spam mail hàng loạt
